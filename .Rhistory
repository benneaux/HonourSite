x = row_number(Week_end),
fill = "Responses"),
size = 0.04,
color = "red",
alpha = 0.01) +
geom_area(data = old_data,aes(y = Vaccinated_Respondents,
x = row_number(Week_end), fill = "Vaccinated_Respondents"),
colour = "blue",
alpha = 0.05) +
geom_area(data = old_data,aes(y = Responses-Vaccinated_Respondents,
x = row_number(Week_end), fill = "Responses-Vaccinated_Respondents"),
colour = 'green',
alpha = 0.15) +
scale_x_continuous("",
breaks = seq(from = 1, to = 181,
length.out = 20),
labels = old_data$Week_end[seq(1, 181,length.out= 20)])
p
p +
scale_fill_manual(values = c("red","green","blue"),
labels=c("Total","Unvaccinated","Vaccinated")) + #changed the order
guides(fill=guide_legend(title="Respondents",
override.aes = list(linetype = 0))) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90)) +
ylab("Count")
p = ggplot() +
geom_area(data = old_data,
aes(y = Responses,
x = row_number(Week_end),
fill = "Responses"),
size = 0.04,
color = "red",
alpha = 0.01) +
geom_area(data = old_data,aes(y = Vaccinated_Respondents,
x = row_number(Week_end), fill = "Vaccinated_Respondents"),
colour = "blue",
alpha = 0.1) +
geom_area(data = old_data,aes(y = Responses-Vaccinated_Respondents,
x = row_number(Week_end), fill = "Responses-Vaccinated_Respondents"),
colour = 'green',
alpha = 0.15) +
scale_x_continuous("",
breaks = seq(from = 1, to = 181,
length.out = 20),
labels = old_data$Week_end[seq(1, 181,length.out= 20)])
p = ggplot() +
geom_area(data = old_data,
aes(y = Responses,
x = row_number(Week_end),
fill = "Responses"),
size = 0.1,
color = "red",
alpha = 0.01) +
geom_area(data = old_data,aes(y = Vaccinated_Respondents,
x = row_number(Week_end), fill = "Vaccinated_Respondents"),
colour = "blue",
alpha = 0.05) +
geom_area(data = old_data,aes(y = Responses-Vaccinated_Respondents,
x = row_number(Week_end), fill = "Responses-Vaccinated_Respondents"),
colour = 'green',
alpha = 0.15) +
scale_x_continuous("",
breaks = seq(from = 1, to = 181,
length.out = 20),
labels = old_data$Week_end[seq(1, 181,length.out= 20)])
p
p +
scale_fill_manual(values = c("red","green","blue"),
labels=c("Total","Unvaccinated","Vaccinated")) + #changed the order
guides(fill=guide_legend(title="Respondents",
override.aes = list(linetype = 0))) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90)) +
ylab("Count")
p = ggplot() +
geom_area(data = old_data,
aes(y = Responses,
x = row_number(Week_end),
fill = "Responses"),
size = 0.25,
color = "red",
alpha = 0.01) +
geom_area(data = old_data,aes(y = Vaccinated_Respondents,
x = row_number(Week_end), fill = "Vaccinated_Respondents"),
colour = "blue",
alpha = 0.05) +
geom_area(data = old_data,aes(y = Responses-Vaccinated_Respondents,
x = row_number(Week_end), fill = "Responses-Vaccinated_Respondents"),
colour = 'green',
alpha = 0.15) +
scale_x_continuous("",
breaks = seq(from = 1, to = 181,
length.out = 20),
labels = old_data$Week_end[seq(1, 181,length.out= 20)])
p
p +
scale_fill_manual(values = c("red","green","blue"),
labels=c("Total","Unvaccinated","Vaccinated")) + #changed the order
guides(fill=guide_legend(title="Respondents",
override.aes = list(linetype = 0))) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90)) +
ylab("Count")
p = ggplot() +
geom_area(data = old_data,
aes(y = Responses,
x = row_number(Week_end),
fill = "Responses"),
size = 0.25,
color = "red",
alpha = 0.01) +
geom_area(data = old_data,aes(y = Vaccinated_Respondents,
x = row_number(Week_end), fill = "Vaccinated_Respondents"),
colour = "blue",
size = 0.25,
alpha = 0.05) +
geom_area(data = old_data,
aes(y = Responses-Vaccinated_Respondents,
x = row_number(Week_end),
fill = "Responses-Vaccinated_Respondents"),
colour = 'green',
size = 0.25,
alpha = 0.15) +
scale_x_continuous("",
breaks = seq(from = 1, to = 181,
length.out = 20),
labels = old_data$Week_end[seq(1, 181,length.out= 20)]) +
scale_fill_manual(values = c("red","green","blue"),
labels=c("Total","Unvaccinated","Vaccinated")) + #changed the order
guides(fill=guide_legend(title="Respondents",
override.aes = list(linetype = 0))) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90)) +
ylab("Count")
p = ggplot() +
geom_area(data = old_data,
aes(y = Responses,
x = row_number(Week_end),
fill = "Responses"),
size = 0.25,
color = "red",
alpha = 0.01) +
geom_area(data = old_data,aes(y = Vaccinated_Respondents,
x = row_number(Week_end), fill = "Vaccinated_Respondents"),
colour = "blue",
size = 0.25,
alpha = 0.05) +
geom_area(data = old_data,
aes(y = Responses-Vaccinated_Respondents,
x = row_number(Week_end),
fill = "Responses-Vaccinated_Respondents"),
colour = 'dark green',
size = 0.25,
alpha = 0.15) +
scale_x_continuous("",
breaks = seq(from = 1, to = 181,
length.out = 20),
labels = old_data$Week_end[seq(1, 181,length.out= 20)]) +
scale_fill_manual(values = c("red","green","blue"),
labels=c("Total","Unvaccinated","Vaccinated")) + #changed the order
guides(fill=guide_legend(title="Respondents",
override.aes = list(linetype = 0))) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90)) +
ylab("Count")
p = ggplot() +
geom_area(data = old_data,
aes(y = Responses,
x = row_number(Week_end),
fill = "Responses"),
size = 0.25,
color = "red",
alpha = 0.01) +
geom_area(data = old_data,aes(y = Vaccinated_Respondents,
x = row_number(Week_end), fill = "Vaccinated_Respondents"),
colour = "blue",
size = 0.25,
alpha = 0.05) +
geom_area(data = old_data,
aes(y = Responses-Vaccinated_Respondents,
x = row_number(Week_end),
fill = "Responses-Vaccinated_Respondents"),
colour = 'dark grey',
size = 0.25,
alpha = 0.15) +
scale_x_continuous("",
breaks = seq(from = 1, to = 181,
length.out = 20),
labels = old_data$Week_end[seq(1, 181,length.out= 20)]) +
scale_fill_manual(values = c("red","green","blue"),
labels=c("Total","Unvaccinated","Vaccinated")) + #changed the order
guides(fill=guide_legend(title="Respondents",
override.aes = list(linetype = 0))) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90)) +
ylab("Count")
p = ggplot() +
geom_area(data = old_data,
aes(y = Responses,
x = row_number(Week_end),
fill = "Responses"),
size = 0.25,
color = "red",
alpha = 0.01) +
geom_area(data = old_data,aes(y = Vaccinated_Respondents,
x = row_number(Week_end), fill = "Vaccinated_Respondents"),
colour = "blue",
size = 0.25,
alpha = 0.05) +
geom_area(data = old_data,
aes(y = Responses-Vaccinated_Respondents,
x = row_number(Week_end),
fill = "Responses-Vaccinated_Respondents"),
colour = 'dark gray',
size = 0.25,
alpha = 0.15) +
scale_x_continuous("",
breaks = seq(from = 1, to = 181,
length.out = 20),
labels = old_data$Week_end[seq(1, 181,length.out= 20)]) +
scale_fill_manual(values = c("red","green","blue"),
labels=c("Total","Unvaccinated","Vaccinated")) + #changed the order
guides(fill=guide_legend(title="Respondents",
override.aes = list(linetype = 0))) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90)) +
ylab("Count")
p = ggplot() +
geom_area(data = old_data,
aes(y = Responses,
x = row_number(Week_end),
fill = "Responses"),
size = 0.25,
color = "red",
alpha = 0.01) +
geom_area(data = old_data,aes(y = Vaccinated_Respondents,
x = row_number(Week_end), fill = "Vaccinated_Respondents"),
colour = "blue",
size = 0.25,
alpha = 0.05) +
geom_area(data = old_data,
aes(y = Responses-Vaccinated_Respondents,
x = row_number(Week_end),
fill = "Responses-Vaccinated_Respondents"),
colour = 'green',
size = 0.25,
alpha = 0.15) +
scale_x_continuous("",
breaks = seq(from = 1, to = 181,
length.out = 20),
labels = old_data$Week_end[seq(1, 181,length.out= 20)]) +
scale_fill_manual(values = c("red","green","blue"),
labels=c("Total","Unvaccinated","Vaccinated")) + #changed the order
guides(fill=guide_legend(title="Respondents",
override.aes = list(linetype = 0))) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90)) +
ylab("Count")
p = ggplot() +
geom_area(data = old_data,
aes(y = Responses,
x = row_number(Week_end),
fill = "Responses"),
size = 0.25,
color = "red",
alpha = 0.01) +
geom_area(data = old_data,aes(y = Vaccinated_Respondents,
x = row_number(Week_end), fill = "Vaccinated_Respondents"),
colour = "blue",
size = 0.25,
alpha = 0.05) +
geom_area(data = old_data,
aes(y = Responses-Vaccinated_Respondents,
x = row_number(Week_end),
fill = "Responses-Vaccinated_Respondents"),
colour = 'green',
size = 0.25,
alpha = 0.15) +
scale_x_continuous("",
breaks = seq(from = 1, to = 181,
length.out = 20),
labels = old_data$Week_end[seq(1, 181,length.out= 20)]) +
scale_fill_manual(values = c("red","green","blue"),
labels=c("Total","Unvaccinated","Vaccinated")) + #changed the order
guides(fill=guide_legend(title="Respondents",
override.aes = list(linetype = 0))) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90)) +
ylab("Count")
p
ggplot() +
geom_area(data = old_data,
aes(y = Responses,
x = row_number(Week_end),
fill = "Responses"),
size = 0.25,
color = "red",
alpha = 0.01) +
geom_area(data = old_data,aes(y = Vaccinated_Respondents,
x = row_number(Week_end), fill = "Vaccinated_Respondents"),
colour = "blue",
size = 0.25,
alpha = 0.05) +
geom_area(data = old_data,
aes(y = Responses-Vaccinated_Respondents,
x = row_number(Week_end),
fill = "Responses-Vaccinated_Respondents"),
colour = 'green',
size = 0.25,
alpha = 0.15) +
scale_x_continuous("",
breaks = seq(from = 1, to = 181,
length.out = 20),
labels = old_data$Week_end[seq(1, 181,length.out= 20)]) +
scale_fill_manual(values = c("red","green","blue"),
labels=c("Total","Unvaccinated","Vaccinated")) + #changed the order
guides(fill=guide_legend(title="Respondents",
override.aes = list(linetype = 0))) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90)) +
ylab("Count")
ggplot() +
geom_area(data = old_data,
aes(y = Responses,
x = row_number(Week_end),
fill = "Responses"),
size = 0.25,
color = "red",
alpha = 0.01) +
geom_area(data = old_data,aes(y = Vaccinated_Respondents,
x = row_number(Week_end), fill = "Vaccinated_Respondents"),
colour = "blue",
size = 0.25,
alpha = 0.05) +
geom_area(data = old_data,
aes(y = Responses-Vaccinated_Respondents,
x = row_number(Week_end),
fill = "Responses-Vaccinated_Respondents"),
colour = 'dark green',
size = 0.25,
alpha = 0.15) +
scale_x_continuous("",
breaks = seq(from = 1, to = 181,
length.out = 20),
labels = old_data$Week_end[seq(1, 181,length.out= 20)]) +
scale_fill_manual(values = c("red","green","blue"),
labels=c("Total","Unvaccinated","Vaccinated")) + #changed the order
guides(fill=guide_legend(title="Respondents",
override.aes = list(linetype = 0))) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90)) +
ylab("Count")
ggplot() +
geom_area(data = old_data,
aes(y = Responses,
x = row_number(Week_end),
fill = "Responses"),
size = 0.25,
color = "red",
alpha = 0.01) +
geom_area(data = old_data,aes(y = Vaccinated_Respondents,
x = row_number(Week_end), fill = "Vaccinated_Respondents"),
colour = "blue",
size = 0.25,
alpha = 0.05) +
geom_area(data = old_data,
aes(y = Responses-Vaccinated_Respondents,
x = row_number(Week_end),
fill = "Responses-Vaccinated_Respondents"),
colour = 'dark green',
size = 0.25,
alpha = 0.15) +
scale_x_continuous("",
breaks = seq(from = 1, to = 181,
length.out = 20),
labels = old_data$Week_end[seq(1, 181,length.out= 20)]) +
scale_fill_manual(values = c("red","dark green","blue"),
labels=c("Total","Unvaccinated","Vaccinated")) + #changed the order
guides(fill=guide_legend(title="Respondents",
override.aes = list(linetype = 0))) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90)) +
ylab("Count")
ggplot() +
geom_area(data = old_data,
aes(y = Responses,
x = row_number(Week_end),
fill = "Responses"),
size = 0.25,
color = "red",
alpha = 0.01) +
geom_area(data = old_data,aes(y = Vaccinated_Respondents,
x = row_number(Week_end), fill = "Vaccinated_Respondents"),
colour = "blue",
size = 0.25,
alpha = 0.05) +
geom_area(data = old_data,
aes(y = Responses-Vaccinated_Respondents,
x = row_number(Week_end),
fill = "Responses-Vaccinated_Respondents"),
colour = 'dark green',
size = 0.25,
alpha = 0.15) +
scale_x_continuous("",
breaks = seq(from = 1, to = 181,
length.out = 20),
labels = old_data$Week_end[seq(1, 181,length.out= 20)]) +
scale_fill_manual(values = c("red","green","blue"),
labels=c("Total","Unvaccinated","Vaccinated")) + #changed the order
guides(fill=guide_legend(title="Respondents",
override.aes = list(linetype = 0))) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90)) +
ylab("Count")
source('~/Documents/HonourSite/_R/plotData.R', echo=TRUE)
ggsave(g1, "../images/current/respondents.png")
library(ggplot2)
library(tidyverse)
library(stringr)
old_data <- readRDS("~/Documents/HonourSite/_R/Data/fludata.rds")
g1 <- ggplot() +
geom_area(data = old_data,
aes(y = Responses,
x = row_number(Week_end),
fill = "Responses"),
size = 0.25,
color = "red",
alpha = 0.01) +
geom_area(data = old_data,aes(y = Vaccinated_Respondents,
x = row_number(Week_end), fill = "Vaccinated_Respondents"),
colour = "blue",
size = 0.25,
alpha = 0.05) +
geom_area(data = old_data,
aes(y = Responses-Vaccinated_Respondents,
x = row_number(Week_end),
fill = "Responses-Vaccinated_Respondents"),
colour = 'dark green',
size = 0.25,
alpha = 0.15) +
scale_x_continuous("",
breaks = seq(from = 1, to = 181,
length.out = 20),
labels = old_data$Week_end[seq(1, 181,length.out= 20)]) +
scale_fill_manual(values = c("red","green","blue"),
labels=c("Total","Unvaccinated","Vaccinated")) + #changed the order
guides(fill=guide_legend(title="Respondents",
override.aes = list(linetype = 0))) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90)) +
ylab("Count")
g1
ggsave(g1, "../images/current/respondents.png")
ggplot() +
geom_area(data = old_data,
aes(y = Responses,
x = row_number(Week_end),
fill = "Responses"),
size = 0.25,
color = "red",
alpha = 0.01) +
geom_area(data = old_data,aes(y = Vaccinated_Respondents,
x = row_number(Week_end), fill = "Vaccinated_Respondents"),
colour = "blue",
size = 0.25,
alpha = 0.05) +
geom_area(data = old_data,
aes(y = Responses-Vaccinated_Respondents,
x = row_number(Week_end),
fill = "Responses-Vaccinated_Respondents"),
colour = 'dark green',
size = 0.25,
alpha = 0.15) +
scale_x_continuous("",
breaks = seq(from = 1, to = 181,
length.out = 20),
labels = old_data$Week_end[seq(1, 181,length.out= 20)]) +
scale_fill_manual(values = c("red","green","blue"),
labels=c("Total","Unvaccinated","Vaccinated")) + #changed the order
guides(fill=guide_legend(title="Respondents",
override.aes = list(linetype = 0))) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90)) +
ylab("Count")
ggsave("../images/current/respondents.png")
ggsave("../images/current/respondents.png")
ggsave("images/current/respondents.png")
ggplot(data = old_data,
aes(y = ILI_Vaccinated,
x = row_number(Week_end),
group = 1)) +
geom_area(colour = "red",
fill = "red",
alpha = 0.2) +
geom_area(aes(y = ILI_Unvaccinated,
x = row_number(Week_end),
group = 2),
colour = "blue",
fill = "blue",
alpha = 0.1) +
scale_x_continuous("",
breaks = seq(from = 1, to = 181,
length.out = 20),
labels = seq(from = old_data$Week_end[1],
to = old_data$Week_end[181],
length.out= 20)) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90)) +
ylab("Percent") +
coord_cartesian(ylim = c(1.3,5.1))
ggsave("images/current/VaccStatusILI.png")
